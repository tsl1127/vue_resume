<!DOCTYPE html>
<html lang="zh-Hans">
<head>
    <meta charset="UTF-8">
    <title>简历编辑器</title>
 <link rel="stylesheet" href="./css/index.css">
 <style>
        /* .resume input{
            border:none;
            font:inherit;
            text-align: center;
        } */
        </style>
</head>
<body>
    <div class="page" id="app">
        <aside>
            <div class="upper">
                <ul class="actions">
                    <li><button class="button">保存</button> </li>
                    <li><button class="button">分享</button> </li>
                    <li><button class="button">打印</button> </li>
                    <li><button class="button">换肤</button> </li>
                </ul>
            </div>
            <div class="down">
                    <button class="button">登出</button>
            </div>           
        </aside>
        <main>
            <div class="resume">
                <section class="profile">                  
                    <!-- <h1 contenteditable="true">
                        <input type="text" v-model="resume.name">
                    </h1> -->
                    <h1>
                        <editable-span :value="resume.name" @edit="onEdit('name',$event)"></editable-span>
                        <!-- {{resume.name}}                            -->
                    </h1>                   
                    <!-- <h1>{{resume.name}}</h1> -->
                    <p>应聘职位：<editable-span :value="resume.jobTitle" @edit="onEdit('jobTitle',$event)"></editable-span></p>
                    <p class="profile">
                            <editable-span :value="resume.birthday" @edit="onEdit('birthday',$event)"></editable-span>
                        |
                        <editable-span :value="resume.gender" @edit="onEdit('gender',$event)"></editable-span>
                        |
                        <editable-span :value="resume.email" @edit="onEdit('email',$event)"></editable-span>
                        |
                        <editable-span :value="resume.phone" @edit="onEdit('phone',$event)"></editable-span>
                    </p>
                    
                </section>
                <section class="skills">
                    <h2>技能</h2>
                    <ul>
                        <li>
                            <span class="name">
                                静态页面制作
                            </span>
                            <div class="description">
                                完美实现设计稿
                            </div>
                        </li>
                        <li>
                            <span class="name">
                                    静态页面制作
                                </span>
                            <div class="description">
                                完美实现设计稿
                            </div>
                        </li>
                        <li>
                            <span class="name">
                                        静态页面制作
                                    </span>
                            <div class="description">
                                完美实现设计稿
                            </div>
                        </li>
                        <li>
                            <span class="name">
                                            静态页面制作
                                        </span>
                            <div class="description">
                                完美实现设计稿
                            </div>
                        </li>
                    </ul>
                </section>
                <section class="projects">
                    <h2>项目经历</h2>
                    <ol>
                        <li>
                            <header>
                                <div class="start">
                                    <h3 class="name">我的简历</h3>
                                    <span class="link">http...</span>
                                </div>
                                <div class="end">
                                    <span class="keywords">CSS3、jQuery、响应式</span>
                                </div>
                            </header>
                            <p class="description">如何做项目的</p>
                        </li>
                        <li>
                            <header>
                                <div class="start">
                                    <h3 class="name">我的简历</h3>
                                    <span class="link">http...</span>
                                </div>
                                <div class="end">
                                    <span class="keywords">CSS3、jQuery、响应式</span>
                                </div>
                            </header>
                            <p class="description">如何做项目的</p>
                        </li>
                        <li>
                            <header>
                                <div class="start">
                                    <h3 class="name">我的简历</h3>
                                    <span class="link">http...</span>
                                </div>
                                <div class="end">
                                    <span class="keywords">CSS3、jQuery、响应式</span>
                                </div>
                            </header>
                            <p class="description">如何做项目的</p>
                        </li>
                        <li>
                            <header>
                                <div class="start">
                                    <h3 class="name">我的简历</h3>
                                    <span class="link">http...</span>
                                </div>
                                <div class="end">
                                    <span class="keywords">CSS3、jQuery、响应式</span>
                                </div>
                            </header>
                            <p class="description">如何做项目的</p>
                        </li>
                    </ol>

                </section>
            </div>
        </main>
    </div>



    <script src="./vendors/av-min.js"></script>
   <script>
            // var TestObject = AV.Object.extend('TestObject');
            // var testObject = new TestObject();
            // testObject.save({
            //     words: 'Hello World!'
            // }).then(function (object) {
            //     alert('LeanCloud Rocks!');
            // })

   </script> 
   <script src="./js/av.js"></script>
   <script src="./vendors/vue.min.js"></script>
   <style>
       .editableSpan{
            position: relative;
       }
       .editableSpan button{
            display: none;
            position: absolute;
            left: 100%;
            top:0;
            z-index: 1;
       }
       .editableSpan:hover button{
            display: inline-block;
       }
   </style>
   <script>
    Vue.component('editable-span',{
        props:['value'],
        template:`
        <span class="editableSpan">
        <span v-show="!editing">{{value}}</span>
        <input type="text" v-show="editing" v-bind:value="value" @input = "triggerEdit">
        <button v-on:click="editing=!editing">edit</button>
        </span>
        `,
        data(){
            return {
                editing:false
            }
        },
        methods:{
            triggerEdit(e){
                // console.log(e.target.value)
                this.$emit('edit',e.target.value)
            }
        }

        
    })

    var app = new Vue({
        el: '#app',
        data: {
            editingName:false,
            resume :{
                name:'姓名',
                gender:'男',
                birthday:'1986年12月',
                jobTitle:'前端开发工程师',
                email:'taosiliang1127tsl@163.com',
                phone:'13207134080'
            }
        },
        methods:{
            onEdit(key,value){
                // this.resume.name = e.target.innerText
                // console.log(value)
                // console.log(this)
                // this.resume.name=value
                // console.log(key,value)
                this.resume[key]=value
            }
        }
    })
   </script>

</body>
</html>